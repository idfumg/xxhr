<!DOCTYPE html>
<html>
<head>
  <!-- Standard Meta -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
  <link rel="stylesheet" type="text/css" href="semantic.min.css">
  <script
    src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
    crossorigin="anonymous"></script>
  <script src="semantic.min.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
  <!-- <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script> 
  <script type="text/javascript" src="search/searchdata.js"></script>
  <script type="text/javascript" src="custom-search.js"></script>
  <script type="text/javascript">
    $(document).ready(function() { init_search(); });
  </script>-->
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
  <style type="text/css">
  body {
    background-color: #FFFFFF;
  }
  .ui.menu .item img.logo {
    margin-right: 1.5em;
  }
  .main.container {
    margin-top: 7em;
  }
  .wireframe {
    margin-top: 2em;
  }
  .ui.footer.segment {
    margin: 5em 0em 0em;
    padding: 5em 0em;
  }
  #navrow1, #navrow2, #navrow3 {
    /* We have our own tabs, hide the standard one */
    visibility: hidden;
    display: none;
  }
  /*.tabs, .tabs2 {
    visibility: hidden;
    display: none;
  }*/
  #top {
    border-radius: 0;
  }
  #MSearchBox {
    position: relative;
    background-color: transparent;
  }
  #MSearchField {
  }
  #MSearchSelectWindow {
    /* who cares ? */
    visibility: hidden;
    display: none;
  }
  #MSearchResultsWindow {
    display: none;
  }
  #MSearchClose {
    display: none;
  }
  </style>
</head>
<body>
  <div id="top" class="ui inverted four item menu">
      <a href="index.html#" class="header item">
        <img class="logo" src="logo.png">
        xxhr 1.0.1
      </a>
      <a href="pages.html" class="item">Examples</a>
      <a href="namespacexxhr.html" class="item">API Reference</a>
      <div class="right item">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg" onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" alt="">
          <input type="text" id="MSearchField" value="Search" accesskey="S" onfocus="searchBox.OnSearchFieldFocus(true)" onblur="searchBox.OnSearchFieldFocus(false)" onkeyup="searchBox.OnSearchFieldChange(event)">
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" src="search/close.svg" alt="" border="0"></a>
          </span>
        </div>
            <!--
              <div id="MSearchBox" class="ui search">
              <div class="ui icon input">
                <input class="prompt" placeholder="API Reference..." type="text"
                 accesskey="S" 
                 id="MSearchField"
                 onfocus="searchBox.OnSearchFieldFocus(true)" 
                 onblur="searchBox.OnSearchFieldFocus(false)" 
                 onkeyup="searchBox.OnSearchFieldChange(event)"> 
                <i class="search icon"></i>
              </div>
              <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" src="search/close.svg" alt="" border="0"></a>
              <div id="CustomSearchResults" class="results">
                <iframe src="javascript:void(0)" frameborder="0" 
                  name="MSearchResults" id="MSearchResults"> 
                </iframe>
              </div>
            </div>-->
            <!--
              <div class="ui search">
              <div class="ui icon input">
                <input class="prompt" placeholder="API Reference..." type="text"
                 accesskey="S" 
                 id="MSearchField"
                 onfocus="searchBox.OnSearchFieldFocus(true)" 
                 onblur="searchBox.OnSearchFieldFocus(false)" 
                 onkeyup="searchBox.OnSearchFieldChange(event)"> 
                <i class="search icon"></i>
              </div>
              <div id="CustomSearchResults" class="results">
                <iframe src="javascript:void(0)" frameborder="0" 
                  name="MSearchResults" id="MSearchResults"> 
                </iframe>
              </div>
            </div>-->
      </div>
  </div>
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">GETting Started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><ul><li class="level2"><a href="#autotoc_md5">Download</a></li>
<li class="level2"><a href="#autotoc_md6">Include xxhr convenience header</a></li>
<li class="level2"><a href="#autotoc_md7">Supposed using declaration</a></li>
<li class="level2"><a href="#autotoc_md8">Select the type of HTTP Request</a></li>
<li class="level2"><a href="#autotoc_md9">Below HTTP it can go wrong</a><ul><li class="level3"><a href="#autotoc_md10">users aren&#39;t patient</a></li>
</ul>
</li>
</ul>
</ul>
</div>
<div class="textblock"><h2><a class="anchor" id="autotoc_md5"></a>
Download</h2>
<p>Drop the following in your <a href="https://nxxm.github.io"><code>.nxxm/deps</code></a> :</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  <span class="stringliteral">&quot;daminetreg/xxhr&quot;</span> : { <span class="stringliteral">&quot;@&quot;</span> : <span class="stringliteral">&quot;v1.0.0&quot;</span> }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md6"></a>
Include xxhr convenience header</h2>
<p>The library is really lightweight, therefore it makes sense to include all definitions at once.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;xxhr/xxhr.hpp&gt;</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md7"></a>
Supposed using declaration</h2>
<p>All documentation in this library suppose the use at function scope of : </p><div class="fragment"><div class="line">  <span class="keyword">using namespace </span><a class="code" href="namespacexxhr.html">xxhr</a>;</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md8"></a>
Select the type of HTTP Request</h2>
<p>In a <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">RESTful</a> model the CRUD operations are the entrypoints of Requests, and so is the entrypoint of xxhr :</p>
<ul>
<li><a class="el" href="namespacexxhr.html#a640bf69db23c2f3560f53fa11bb0293d">GET</a></li>
<li><a class="el" href="namespacexxhr.html#af2d16f24d2bc7e9467b4c7731409a808">POST</a></li>
<li><a class="el" href="namespacexxhr.html#ad62d1981f00bc515500bda705c78e21d">PUT</a></li>
<li><a class="el" href="namespacexxhr.html#a6c8f89e796b9ba18a817d427cfdaeabb">HEAD</a></li>
<li><a class="el" href="namespacexxhr.html#ab6c062deaa83d4ac926b87ed35001919">DELETE</a></li>
<li><a class="el" href="namespacexxhr.html#a449dd25f525d8452c1eaf55662ccebfd">OPTIONS</a></li>
<li><a class="el" href="namespacexxhr.html#a6acf6522d09638bd98ca71591ff29399">PATCH</a></li>
</ul>
<p>From there on, all goes asynchronous with the <a class="el" href="namespacexxhr.html#a748ca1e912695774c7dacce2c9998b80">on_response</a> continuation handler which expects a lambda or whatever Callable which accepts a <a class="el" href="classxxhr_1_1Response.html">Response</a>.</p>
<p>To get started, nothing better than downloading the everlasting HTTP Request For Comment :</p>
<div class="fragment"><div class="line">  <a class="code" href="namespacexxhr.html#a640bf69db23c2f3560f53fa11bb0293d">GET</a>( <span class="stringliteral">&quot;http://httpbin.org/anything&quot;</span>s, </div>
<div class="line">    on_response = [](<span class="keyword">auto</span>&amp;&amp; resp) {</div>
<div class="line"> </div>
<div class="line">      std::cout &lt;&lt; resp.text;</div>
<div class="line"> </div>
<div class="line">    }</div>
<div class="line">  );</div>
</div><!-- fragment --> <h2><a class="anchor" id="autotoc_md9"></a>
Below HTTP it can go wrong</h2>
<p>HTTP is the icing on the cake of network communications, there are alot of OSI layer below, that we shouldn't care of but which might prevent your app from running correctly.</p>
<p>Therefore you can check an <a class="el" href="classxxhr_1_1Response.html" title="Passed to the unary callback xxhr::on_response. Provides access to request Content and Success,...">xxhr::Response</a> for the <code>resp.error</code> field : </p><div class="fragment"><div class="line">  <a class="code" href="namespacexxhr.html#a640bf69db23c2f3560f53fa11bb0293d">GET</a>( <span class="stringliteral">&quot;http://httpbin.org/anything&quot;</span>s, </div>
<div class="line">    on_response = [](<span class="keyword">auto</span>&amp;&amp; resp) {</div>
<div class="line">      </div>
<div class="line">      <span class="keywordflow">if</span> (!resp.error) {</div>
<div class="line">        </div>
<div class="line">        std::cout &lt;&lt; resp.text;</div>
<div class="line">      } <span class="keywordflow">else</span> {</div>
<div class="line">        </div>
<div class="line">        std::cout &lt;&lt; resp.error;</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  );</div>
</div><!-- fragment --> <h3><a class="anchor" id="autotoc_md10"></a>
users aren't patient</h3>
<p>To avoid blocking your application with never ending HTTP requests you can specify an <a class="el" href="classxxhr_1_1Timeout.html" title="A timeout specification to cut short slow HTTP queries.">xxhr::Timeout</a>, which will calls the on_response callback early with the <a class="el" href="classxxhr_1_1Error.html" title="Represents Errors happening at a lower layer than HTTP.">xxhr::Error</a> code : <code>ErrorCode::TIMEDOUT</code>.</p>
<div class="fragment"><div class="line"> </div>
<div class="line">  <a class="code" href="namespacexxhr.html#a640bf69db23c2f3560f53fa11bb0293d">GET</a>( </div>
<div class="line">    <span class="stringliteral">&quot;http://httpbin.org/anything&quot;</span>s,</div>
<div class="line">    Timeout{3s},</div>
<div class="line">    <a class="code" href="namespacexxhr.html#a748ca1e912695774c7dacce2c9998b80">on_response</a> = [](<span class="keyword">auto</span>&amp;&amp; resp) {</div>
<div class="line">      <span class="keywordflow">if</span> (resp.error.code == +ErrorCode::TIMEDOUT)</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Timed out !\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">  );</div>
<div class="line"> </div>
</div><!-- fragment --><p> For more details see <a class="el" href="retrying-cpp.html">Retry on failure</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="anamespacexxhr_html_a748ca1e912695774c7dacce2c9998b80"><div class="ttname"><a href="namespacexxhr.html#a748ca1e912695774c7dacce2c9998b80">xxhr::on_response</a></div><div class="ttdeci">constexpr make_handler_t&lt; on_response_ &gt; on_response</div><div class="ttdoc">Continuation callback ( i.e. signature : void callback(xxhr::Response)) for the asynchronous HTTP ope...</div><div class="ttdef"><b>Definition:</b> handler.hpp:39</div></div>
<div class="ttc" id="anamespacexxhr_html_a640bf69db23c2f3560f53fa11bb0293d"><div class="ttname"><a href="namespacexxhr.html#a640bf69db23c2f3560f53fa11bb0293d">xxhr::GET</a></div><div class="ttdeci">void GET(Ts &amp;&amp;... ts)</div><div class="ttdoc">HTTP GET Request.</div><div class="ttdef"><b>Definition:</b> api.hpp:41</div></div>
<div class="ttc" id="anamespacexxhr_html"><div class="ttname"><a href="namespacexxhr.html">xxhr</a></div><div class="ttdoc">main library namespace</div><div class="ttdef"><b>Definition:</b> api.hpp:20</div></div>
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div class="ui inverted vertical footer segment">
  <div class="ui container">
    <div class="ui stackable inverted divided equal height stackable grid">
      <div class="three wide column">
        <h4 class="ui inverted header">About</h4>
        <div class="ui inverted link list">
          <a href="https://github.com/nxxm/xxhr" class="item">Source Code</a>
          <a href="md_LICENSE.html" class="item">MIT License</a>
        </div>
      </div>
      <div class="three wide column">
        <h4 class="ui inverted header">Support</h4>
        <div class="ui inverted link list">
          <a href="pages.html" class="item">Examples</a>
          <a href="namespacexxhr.html" class="item">API Reference</a>
          <a href="classes.html" class="item">Classes Index</a>
          <a href="namespacemembers_func.html" class="item">All Functions</a>
          <a href="https://github.com/nxxm/xxhr/issues" class="item">Report an issue</a>
        </div>
      </div>
      <div class="seven wide column">
        <h4 class="ui inverted header">
          <img class="logo" src="logo.png"> xxhr 1.0.1
        </h4>
        <p>A simple, yet modern, http client library.</p>
      </div>
    </div>
  </div>
</div>
</body>
</html>
